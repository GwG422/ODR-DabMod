<!--
   Copyright (C) 2018
   Matthias P. Braendli, matthias.braendli@mpb.li

This file is part of ODR-DabMod.

ODR-DabMod is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

ODR-DabMod is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with ODR-DabMod.  If not, see <http://www.gnu.org/licenses/>.
-->

<!DOCTYPE html>
<html lang="en">

{% include 'head.html' %}

<body>
  {% include 'body-nav.html' %}

  <div class="container-fluid">
    <div class="panel-group">
      <div class="panel panel-default">
        <div class="panel-heading">Status and calibration</div>
        <div class="panel-body">
          <div>Current DPDCE status:
            <div>
              <div id="dpdstatus" style="font-weight:bold;">N/A</div>
              <div class="progress">
                <div id="dpdprogress" class="progress-bar" role="progressbar" style="width:0%">
                    <span id="dpdprogresstext"></span>
                </div>
              </div>
            </div>
            <div class="well well-sm" id="dpdresults">N/A</div>
          </div>

          <div>Calibration needs to be done once before the PA model
          can be trained. Every time calibration is changed, the predistortion
          parameters are invalidated!</div>
          <button type="button" class="btn btn-sm btn-warning" id="calibratebtn">
            Calibrate</button>
        </div>
      </div>
      <!--
      <div class="panel panel-default">
        <div class="panel-heading">Capture TX and RX frames</div>
        <div class="panel-body">
          <div>
            <img id="txframeimg" src="dpd/txframe.png" width="320" height="240" />
            <img id="rxframeimg" src="dpd/rxframe.png" width="320" height="240" />
          </div>
          <div>
            <button type="button" class="btn btn-sm btn-info" id="refreshframesbtn">
              Refresh</button>
          </div>
        </div>
      </div>

      <div class="panel panel-default">
        <div class="panel-heading">Capture</div>
        <div class="panel-body">
          <div>On pressing this button,
            the DPDCE will trigger a capture and a quick data
            analysis, without updating any DPD models.</div>
          <button type="button" class="btn btn-sm btn-info" id="capturebutton">
            Capture</button>
        </div>
      </div>
      <div class="panel panel-default">
        <div class="panel-heading">Status</div>
        <div class="panel-body">
          <button type="button" class="btn btn-sm btn-info" id="dpdstatusbutton">
            Update</button>
          <div>Histogram: <span id="histogram">N/A</span></div>
          <div>Capture status
            <span id="capturestatus">N/A</span></div>
          <div>Number of samples captured:
            <span id="capturelength">None</span></div>
          <div>TX median: <span id="tx_median">N/A</span></div>
          <div>RX median: <span id="rx_median">N/A</span></div>
          <div>Point cloud: <img id="dpd_pointcloud" /></div>
        </div>
      </div>
      -->
    </div>
  </div>
</body>
</html>
